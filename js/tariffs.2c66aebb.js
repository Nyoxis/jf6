(function(t){function a(a){for(var n,s,c=a[0],o=a[1],l=a[2],f=0,d=[];f<c.length;f++)s=c[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(a);while(d.length)d.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],n=!0,c=1;c<e.length;c++){var o=e[c];0!==r[o]&&(n=!1)}n&&(i.splice(a--,1),t=s(s.s=e[0]))}return t}var n={},r={tariffs:0},i=[];function s(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=n,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)s.d(e,n,function(a){return t[a]}.bind(null,n));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="jf6/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=a,c=c.slice();for(var l=0;l<c.length;l++)a(c[l]);var u=o;i.push([1,"chunk-vendors","chunk-common"]),e()})({"0d48":function(t,a,e){},1:function(t,a,e){t.exports=e("32bd")},"1eea":function(t,a,e){"use strict";var n=e("6f93"),r=e.n(n);r.a},"291c":function(t,a,e){},"32bd":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Layout",[e("Calculator",{attrs:{id:"calculator",tariff:t.tariff},on:{updateTariff:function(a){t.tariff=a},attachData:t.attachData}}),e("TariffsContent",{attrs:{id:"tariffs"},on:{updateTariff:function(a){t.tariff=a}}}),e("Application",{ref:"application",attrs:{id:"application"}})],1)},i=[],s=e("3695"),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"calculator"}},[e("CalcRes",{attrs:{elValues:t.calcEls,tariff:t.tariff,cost:t.cost},on:{updateTariff:t.updateTariff,cost:function(a){t.cost=a},attach:t.attachData}}),e("div",{attrs:{id:"calcels"}},[t._l(t.calcEls,(function(a,n){return e("CalcEl",{key:a.id,style:t.backgroundColor(n,t.calcEls.length),attrs:{calcelId:n,tariff:t.tariff,values:a.values,id:n},on:{remove:function(a){return t.removeEl(n)},values:function(t){a.values=t}}})})),e("div",{attrs:{id:"add"}},[e("button",{staticClass:"btn",on:{click:t.addel}},[t._v("+")])])],2)],1)},o=[],l=(e("a4d3"),e("e01a"),e("d28b"),e("a434"),e("d3b7"),e("ac1f"),e("3ca3"),e("841c"),e("ddb0"),e("2b3d"),e("3835")),u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"round2",attrs:{id:"calcel"}},[e("h3",[t._v(" Посылка #"+t._s(t.id+1)+" "),e("button",{on:{click:t.eventRemove}},[t._v("X")])]),e("CalcIn",{attrs:{tariff:t.tariff,values:t.values},on:{values:t.updateVal}})],1)},f=[],d=e("ce8b"),v={name:"CalcEl",props:["values","id","tariff"],components:{CalcIn:d["a"]},methods:{eventRemove:function(){this.$emit("remove")},updateVal:function(t){this.$emit("values",t)}}},p=v,h=(e("5e0c"),e("2877")),m=Object(h["a"])(p,u,f,!1,null,"71a3f1cc",null),_=m.exports,g=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"round2",attrs:{id:"calcres"}},[e("div",{attrs:{id:"calcblocks"}},[e("div",[e("label",{attrs:{for:"tariff"}},[t._v("Тариф")]),e("select",{staticClass:"field",attrs:{id:"tariff"},domProps:{value:t.tariff},on:{input:function(a){return t.updateTariff(a.target.value)}}},[e("option",{attrs:{value:"avia",selected:""}},[t._v("Авиадоставка")]),e("option",{attrs:{value:"auto"}},[t._v("Автодоставка")]),e("option",{attrs:{value:"train"}},[t._v("Доставка поездом")])]),e("ul",t._l(t.elValues,(function(a,n){return e("li",{key:a.id,style:t.color(n,t.elValues.length)},[e("h4",[t._v("Посылка #"+t._s(n+1))]),e("h2",[t._v(t._s(a.values.result))])])})),0)]),e("div",[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isInsurance,expression:"isInsurance"}],attrs:{type:"checkbox",name:"insurance",value:"insurance"},domProps:{checked:Array.isArray(t.isInsurance)?t._i(t.isInsurance,"insurance")>-1:t.isInsurance},on:{change:function(a){var e=t.isInsurance,n=a.target,r=!!n.checked;if(Array.isArray(e)){var i="insurance",s=t._i(e,i);n.checked?s<0&&(t.isInsurance=e.concat([i])):s>-1&&(t.isInsurance=e.slice(0,s).concat(e.slice(s+1)))}else t.isInsurance=r}}}),t._v("Страховка")]),e("label",{attrs:{for:"cost"}},[t._v("Стоимость, USD")]),e("input",{staticClass:"field",attrs:{type:"number",name:"Cost",id:"cost",disabled:!t.isInsurance},domProps:{value:t.cost},on:{input:function(a){t.$emit("cost",t.format(a.target.value,0))}}}),e("h3",[t._v("+ "+t._s(t.insurance))]),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isFromMSK,expression:"isFromMSK"}],attrs:{type:"checkbox",name:"fromMSK",value:"fromMSK"},domProps:{checked:Array.isArray(t.isFromMSK)?t._i(t.isFromMSK,"fromMSK")>-1:t.isFromMSK},on:{change:function(a){var e=t.isFromMSK,n=a.target,r=!!n.checked;if(Array.isArray(e)){var i="fromMSK",s=t._i(e,i);n.checked?s<0&&(t.isFromMSK=e.concat([i])):s>-1&&(t.isFromMSK=e.slice(0,s).concat(e.slice(s+1)))}else t.isFromMSK=r}}}),t._v("Доставка по СНГ")]),e("h3",[t._v("+ "+t._s(t.fromMSK))]),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isLegalPay,expression:"isLegalPay"}],attrs:{type:"checkbox",name:"legalpay",value:"legalpay"},domProps:{checked:Array.isArray(t.isLegalPay)?t._i(t.isLegalPay,"legalpay")>-1:t.isLegalPay},on:{change:function(a){var e=t.isLegalPay,n=a.target,r=!!n.checked;if(Array.isArray(e)){var i="legalpay",s=t._i(e,i);n.checked?s<0&&(t.isLegalPay=e.concat([i])):s>-1&&(t.isLegalPay=e.slice(0,s).concat(e.slice(s+1)))}else t.isLegalPay=r}}}),t._v("Оплата с юр. лица")]),e("h3",[t._v("+ "+t._s(t.legalPay))])])]),e("h1",[t._v(t._s(t.totalResult))]),e("button",{staticClass:"btn",on:{click:function(a){return t.$emit("attach",{isFromMSK:t.isFromMSK,isLegalPay:t.isLegalPay})}}},[t._v("Прикрепить к заявке")])])},y=[],b=(e("13d5"),e("b680"),e("4222")),S=e("8a5a"),M={name:"CalcRes",props:["tariff","elValues","cost"],data:function(){return{isInsurance:!0,isFromMSK:!1,isLegalPay:!1}},computed:{totalResult:function(){return(+parseFloat(this.insurance)+parseFloat(this.fromMSK)+parseFloat(this.legalPay)+parseFloat(this.elValues.reduce((function(t,a){return parseFloat(t)+parseFloat(a.values.result)}),0).toFixed(2))).toFixed(2)},insurance:function(){return this.isInsurance?parseFloat((this.cost*S.insrate).toFixed(2)):(this.$emit("cost",""),0)},fromMSK:function(){return this.isFromMSK?S.fromMSK:0},legalPay:function(){return this.isLegalPay?S.legalPay:0}},mixins:[b["a"]],methods:{updateTariff:function(t){this.$emit("updateTariff",t)},color:function(t,a){var e=(410-360*Math.pow(t/a,3))%360,n=100-60*Math.pow(t/a,.5),r=30;return{color:"hsl( "+e+", "+n+"%, "+r+"%)"}}}},P=M,E=(e("1eea"),Object(h["a"])(P,g,y,!1,null,"3ea03836",null)),k=E.exports,w={name:"Calculator",components:{CalcEl:_,CalcRes:k},props:["tariff"],data:function(){return{calcEls:[],cost:""}},mounted:function(){this.addel();var t=window.location.search,a=new URLSearchParams(t);a.get("tariff")&&this.$emit("updateTariff",a.get("tariff")),a.get("cost")&&(this.cost=a.get("cost")),a.get("category")&&(this.calcEls[0].values.category=a.get("category")),a.get("volume")&&(this.calcEls[0].values.volume=a.get("volume")),a.get("weight")&&(this.calcEls[0].values.weight=a.get("weight")),a.get("quantity")&&(this.calcEls[0].values.quantity=a.get("quantity"))},methods:{updateTariff:function(t){this.$emit("updateTariff",t)},addel:function(){0===this.calcEls.length?this.calcEls.push({id:0,values:{}}):this.calcEls.push({id:this.calcEls[this.calcEls.length-1].id+1,values:{}})},removeEl:function(t){this.calcEls.length<2&&this.addel(),this.calcEls.splice(t,1)},attachData:function(t){var a="____________\ntar: "+this.tariff;a+="\ncos: "+this.cost,t.isFromMSK&&(a+="\n+fromMSK"),t.isLegalPay&&(a+="\n+legalPay");var e=!0,n=!1,r=void 0;try{for(var i,s=this.calcEls.entries()[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var c=Object(l["a"])(i.value,2),o=c[0],u=c[1];a+="\n#"+(o+1)+" res: "+u.values.apiece+" x"+u.values.quantity+"\n",a+="cat: "+u.values.category+"\n",a+="vol: "+u.values.volume+"\n",a+="wgh: "+u.values.weight}}catch(f){n=!0,r=f}finally{try{e||null==s.return||s.return()}finally{if(n)throw r}}this.$emit("attachData",a)},backgroundColor:function(t,a){var e=(410-360*Math.pow(t/a,3))%360,n=100-70*Math.pow(t/a,.5),r=75-15*Math.pow(t/a,4);return{background:"hsl( "+e+", "+n+"%, "+r+"%)"}}}},T=w,x=(e("5cac"),Object(h["a"])(T,c,o,!1,null,"adcf8ca6",null)),C=x.exports,F=e("0ebe"),K=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"round4"},[e("h3",[t._v("Тарифы")]),e("Tariffs",{on:{updateTariff:t.updateTariff}}),e("h3",[t._v("Особенности расчета")]),e("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")])],1)},$=[],L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("table",[t._m(0),e("tbody",[e("tr",[e("th",[t._v("Самолет")]),e("td",[t._v("3-4 дня")]),e("td",[t._v("10 USD")]),e("button",{staticClass:"btn",attrs:{value:"avia"},on:{click:function(a){return t.updateTariff(a.target.value)}}},[t._v("Выбрать")])]),e("tr",[e("th",[t._v("Автодоставка")]),e("td",[t._v("1-2 недели")]),e("td",[t._v("10 USD")]),e("button",{staticClass:"btn",attrs:{value:"auto"},on:{click:function(a){return t.updateTariff(a.target.value)}}},[t._v("Выбрать")])]),e("tr",[e("th",[t._v("Поезд")]),e("td",[t._v("2 недели")]),e("td",[t._v("20 USD")]),e("button",{staticClass:"btn",attrs:{value:"train"},on:{click:function(a){return t.updateTariff(a.target.value)}}},[t._v("Выбрать")])])])])},O=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th"),e("th",[t._v("Срок доставки")]),e("th",[t._v("Минимальная Стоимость")])])])}],j={name:"Tariffs",methods:{updateTariff:function(t){this.$emit("updateTariff",t)}}},A=j,I=(e("6918"),Object(h["a"])(A,L,O,!1,null,null,null)),D=I.exports,q={name:"TariffsContent",components:{Tariffs:D},methods:{updateTariff:function(t){this.$emit("updateTariff",t)}}},R=q,V=(e("40f5"),Object(h["a"])(R,K,$,!1,null,"3661e64a",null)),U=V.exports,N={name:"App",components:{Layout:s["a"],Calculator:C,TariffsContent:U,Application:F["a"]},data:function(){return{tariff:"avia"}},methods:{attachData:function(t){this.$refs.application.attachData(t)}}},J=N,X=(e("c6d9"),Object(h["a"])(J,r,i,!1,null,null,null)),z=X.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(z)}}).$mount("#app")},"40f5":function(t,a,e){"use strict";var n=e("a806"),r=e.n(n);r.a},"5cac":function(t,a,e){"use strict";var n=e("0d48"),r=e.n(n);r.a},"5e0c":function(t,a,e){"use strict";var n=e("e5db"),r=e.n(n);r.a},6918:function(t,a,e){"use strict";var n=e("c1fe"),r=e.n(n);r.a},"6f93":function(t,a,e){},a806:function(t,a,e){},c1fe:function(t,a,e){},c6d9:function(t,a,e){"use strict";var n=e("291c"),r=e.n(n);r.a},e5db:function(t,a,e){}});
//# sourceMappingURL=tariffs.2c66aebb.js.map